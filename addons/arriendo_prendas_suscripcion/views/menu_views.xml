<odoo>
    <!-- Menú Raíz de la Aplicación -->
    <menuitem
        id="menu_arriendo_root"
        name="Arriendos"
        web_icon="arriendo_prendas_suscripcion,static/description/icon.png"
        sequence="10"
        groups="base.group_user"
    />

    <!-- Menú para Suscripciones -->
    <menuitem
        id="menu_arriendo_suscripciones"
        name="Suscripciones"
        parent="menu_arriendo_root"
        action="sale_subscription.sale_subscription_action"
        sequence="10"
        groups="arriendo_prendas_suscripcion.group_arriendo_user"
    />

    <!-- Menú para el Historial de Arriendos -->
    <menuitem
        id="menu_arriendo_historial"
        name="Historial de Arriendos"
        parent="menu_arriendo_root"
        action="arriendo_prendas_suscripcion.action_arriendo_prenda_linea"
        sequence="20"
        groups="arriendo_prendas_suscripcion.group_arriendo_user"
    />

    <!-- Menú para Operaciones de Inventario -->
    <menuitem
        id="menu_arriendo_inventario_root"
        name="Operaciones de Inventario"
        parent="menu_arriendo_root"
        sequence="30"
        groups="stock.group_stock_user"
    />

        <!-- Acción para ver solo SALIDAS de arriendo -->
        <record id="action_arriendo_salidas" model="ir.actions.act_window">
            <field name="name">Salidas de Arriendo</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,kanban,form,calendar,pivot,graph</field>
            <field name="domain">[('picking_type_code', '=', 'outgoing'), ('x_suscripcion_id', '!=', False)]</field>
            <field name="context">{'default_picking_type_code': 'outgoing'}</field>
        </record>

        <!-- Acción para ver solo ENTRADAS (devoluciones) de arriendo -->
        <record id="action_arriendo_entradas" model="ir.actions.act_window">
            <field name="name">Devoluciones de Arriendo</field>
            <field name="res_model">stock.picking</field>
            <field name="view_mode">tree,kanban,form,calendar,pivot,graph</field>
            <field name="domain">[('picking_type_code', '=', 'incoming'), ('x_suscripcion_id', '!=', False)]</field>
            <field name="context">{'default_picking_type_code': 'incoming'}</field>
        </record>

        <!-- Submenús de Inventario -->
        <menuitem id="menu_arriendo_salidas" name="Salidas de Arriendo" parent="menu_arriendo_inventario_root" action="action_arriendo_salidas" sequence="10"/>
        <menuitem id="menu_arriendo_entradas" name="Devoluciones de Arriendo" parent="menu_arriendo_inventario_root" action="action_arriendo_entradas" sequence="20"/>
        <menuitem id="menu_arriendo_stock_picking_all" name="Todos los Traslados" parent="menu_arriendo_inventario_root" action="stock.action_picking_tree_all" sequence="30"/>

    <!-- Menú para Productos -->
    <menuitem
        id="menu_arriendo_productos_root"
        name="Productos"
        parent="menu_arriendo_root"
        sequence="40"
        groups="product.group_product_user"
    />
        <!-- Acción para ver y crear PRENDAS ARRENDABLES -->
        <record id="action_ver_prendas_arrendables" model="ir.actions.act_window">
            <field name="name">Prendas Arrendables</field>
            <field name="res_model">product.template</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_x_es_prenda_arrendable': 1, 'default_x_es_prenda_arrendable': 1}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">No se encontraron productos marcados como "Prenda Arrendable".</p>
                <p>Haz clic en 'Crear' para añadir una nueva prenda para arriendo.</p>
            </field>
        </record>

        <!-- Submenús de Productos -->
        <menuitem id="menu_arriendo_productos_arrendables" name="Prendas Arrendables" parent="menu_arriendo_productos_root" action="action_ver_prendas_arrendables" sequence="10"/>
        <menuitem id="menu_arriendo_productos_todos" name="Todos los Productos" parent="menu_arriendo_productos_root" action="product.product_template_action_all" sequence="20"/>
</odoo>
